<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
	<title>Delayed Local Module Loading Test</title>
	<script type="text/javascript">
		djConfig = {
			isDebug: true,
			debugAtAllCosts: true,
			baseScriptUri: "./",
			modulePaths: {
				"testlocal": "testlocal"
			}
		};
	</script>

	<script type="text/javascript" src="http://o.aolcdn.com/dojo/0.4.2/dojo.js"></script>
	<script type="text/javascript">
		dojo.addOnLoad(function(){
			dojo.event.connect(dojo.byId("actionButton"), "onclick", function(){
				dojo.require("testlocal.thingy");
				dojo.addOnLoad(function(){
					dojo.debug("Test succeeded. testlocal.thingy's message is: " + testlocal.thingy.message());
				})
			})
		});
	</script>
</head>
<body>
<p>Make sure to change the dojo.js url in this test page to your xdomain dojo.js</p>
<p><button id="actionButton">Dynamically load local module</button></p>
</body>
</html>
