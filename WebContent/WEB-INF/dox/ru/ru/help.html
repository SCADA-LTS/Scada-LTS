<pre>
    ScadaBR – Открытая система сбора данных - <a
	href="http://www.scadabr.org.br">http://www.scadabr.org.br</a>
    Copyright (C) 2010 Funda&ccedil;&atilde;o Certi.
    Версия 0.9.1, основана на Mango M2M - <a
	href="http://mango.serotoninsoftware.com">http://mango.serotoninsoftware.com</a>.
    Перевод документации на русский язык - Наталия Тимербаева, Андрей Колесников
    <a href="http://www.teleofis.ru" target="_blank">http://www.teleofis.ru</a> (C) 2012<br>    
    Эта программа является бесплатной: вы можете ее распространять и/или 
    изменять в рамках положений Общедоступной Лицензии GNU, в редакции, 
    опубликованной Фондом свободного ПО (FSF), либо редакции 3 Лицензии, 
    либо (по Вашему выбору) любой более поздней редакции.

    Настоящая программа распространяется в надежде, что она будет полезной,
    но без каких-либо гарантий; а также без гарантии, что она будет 
    пользоваться спросом или подходить для достижения какой-либо конкретной 
    цели. Более подробную информацию смотрите в Общедоступной Лицензии GNU.

    Вы должны были получить копию Общедоступной Лицензии GNU вместе 
    с программой. Если Вы ее не получили, можете найти ее
    по адресу: <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.
</pre>
<br/>


<p>Ниже приводится общий обзор работы данного приложения, и принципы проектирования, которые должен знать пользователь. Полезную информацию можно найти с помощью вызова контекстной справки, отмеченной пиктограммой Помощь (<img src="images/help.png">). Можете использовать эту пиктограмму для получения более подробной информация о функциях, которыми вы пользуетесь.</p>
<h1>Обзор приложения</h1>
<p>Функции приложения в основном доступны через панель управления в верхней части интерфейса. В зависимости от прав доступа, назначенных для Вашей учетной записи, вы увидите различные пиктограммы под эмблемой приложения. Если наводить курсором мыши на эти пиктограммы, появляется подсказка с кратким описанием их назначения.</p>
<p>Помимо кнопок управления, с правой стороны панели отображается имя пользователя, под которым вы вошли в систему.</p>
<p>Если в приложении сработал сигнал тревоги, вы увидите мигающий флажок (<img src="images/flag_white.png"/>) и связанное с ним описание в центре верхней панели. Цвет флажка обозначает уровень тревоги:</p>
<ul style="list-style-type:none;">
  <li><img src="images/flag_blue.png"> Информация </li>
  <li><img src="images/flag_yellow.png"> Срочно </li>
  <li><img src="images/flag_orange.png"> Критическая ситуация </li>
  <li><img src="images/flag_red.png"> Угроза жизни </li>
</ul>
<p>Вы можете нажать на значок или на описание, чтобы непосредственно перейти к списку активных сигналов тревоги.</p>

<h1>Типы данных</h1>
<p>В приложении поддерживается пять типов данных:</p>
<ul>
  <li> <strong>Двоичные (или булевые) значения</strong> имеют только два состояния – ноль или единица. Чтобы преобразовать набор двоичных значений в любые другие нужные Вам метки, например вкл/выкл, высокий/низкий, старт/стоп и т.п., вы можете использовать визуализатор текста.</li>
  <li><strong>Значения с несколькими состояниями</strong> имеют несколько различных состояний. (Строго говоря, двоичный тип данных является частным случаем типа с несколькими состояниями). Значения такого типа примитивно представлены целыми численными значениями (например, 0, 1, 2, 7, …), но, как и в случае двоичных данных, для преобразования этих значений в удобное текстовое представление, например, вкл/выкл/неактивно, охлаждение/нагрев/выкл., или другое, необходимо использовать визуализатор текста.</li>
  <li><strong>Числовые (или аналоговые) значения</strong> являются десятичными значения, представленными в системе в виде переменных с плавающей точкой. Примерами числовых значений являются температура, влажность, цена, высота и т.п. Текстовые визуализаторы используются для определения свойств представления этих значений, например, количество знаков после запятой, разделение тысяч (точкой или запятой), нужно ли использовать суффикс (например, единицы измерения: °F, КВТ/час, моли, и т.д.). Для преобразования диапазонов числовых значений в текстовые метки можно использовать визуализаторы диапазона.</li>
  <li><strong>Алфавитно-цифровые значения </strong>являются простыми строками символов, такими как описание операционной системы источника SNMP. </li>
  <li><strong>Графические изображения </strong>– это двоичное представление графических данных. Они хранятся в файлах в файловой системе хоста (т.е. не в базе данных) и загружаются в кэш-память при необходимости работы с ними. Визуализаторы могут использоваться для создания масштабированных изображений, например, миниатюр для быстрого просмотра.</li>
</ul>


<h1>Источники данных</h1>
<p>Источники данных – это основа для работы данного приложения. Источник данных – это «место», из которого принимаются данные. Фактически, источником данных может быть все, что угодно, если протокол передачи данных поддерживается приложениям. Вот некоторые примеры:</p>
<ul>
  <li>Если у Вас есть сеть на платформе Modbus, доступная через интерфейсы RS232, RS485, TCP/IP, или UDP/IP, вы можете создать источник данных Modbus, который будет выполнять опрос сети и собирать данные в период времени, который вы зададите.</li>
  <li>Если у Вас есть оборудование или приложения, которые могут направлять данные по протоколу HTTP, вы можете запустить источник данных Приемник HTTP, который будет прослушивать входящие сигналы и направлять данные соответствующим объектам.</li>
  <li>Для оборудования, которое поддерживает протокол SNMP, создайте источник данных SNMP. Значения будут приниматься через опрос, выполняемый по установленному расписанию, или можно принимать ловушки для отчетов об ошибке. </li>
  <li>Данные могут быть считаны и обновлены в базе данных SQL, находящейся вне системы.</li>
  <li>Данные могут быть сгенерированы случайным образом или по прогнозу при помощи Виртуального источника данных. </li>
</ul>
<p>Значения данных, полученных или собранных источниками данных, хранятся внутри объектов данных.</p>

<h1>Точки данных</h1>
<p>Точка данных – это набор исторически связанных значений. Например, отдельным объектом могут быть показания температуры в помещении, в то время как другим объектом может быть показания влажности в том же помещении. Точками также могут быть управляющие значения, например, переключатель, включающий и выключающий устройство.</p>
<p>Существует множество атрибутов для управления поведением точек. Прежде всего, есть понятие Локатор точки. Локаторы используются источником данных, чтобы определить, как найти данные для конкретнй точки. Например, источник данных SQL имеет несколько атрибутов, в том числе местонахождение экземпляра базы данных. Локаторы точек источника данных показывают таблицу и наименования полей, в которых находятся конкретные значения. Логическое разделение атрибутов источника данных и тиочек данных зависит от протокола передачи данных.</p>
<p>Атрибуты точек данных также определяют различные параметры точки, такие как имя точки, каким образом будут регистрироваться ее значения (все данные, только изменения значения, или вообще без записи), продолжительность хранения данных, в каком формате отображать данные, как преобразовывать значения в графики.</p>
<p>Кроме того, Вы можете конфигурировать точки данных при помощи Детекторов событий. Детекторы событий используются для выявления значений точки по определенному условию (например, значение было слишком высоким слишком долго, значение слишком низкое, значение слишком часто изменяется, значение вообще не меняется, и т.п.). </p>
<p>Для упрощения управления объектами можно выстроить их в иерархическом порядке или в виде дерева с помощью функции Иерархия объектов. </p>
<h1>Мониторинг</h1>
<p>Мониторинг точек внутри системы можно выполнять двумя способами. Для динамического создания табличных списков точек, содержащих их значения, время последнего обновления, графики данных в исторической последовательности (если объект поддерживает данную возможность) и т.п. вы можете использовать листы наблюдения. Значения и графики обновляются в режиме реального времени, без необходимости обновления окна браузера. При желании можно выводить на экран графики для нескольких точек.</p>
<p>Вы также можете создать Графический вид точки, разместив на произвольном фоновом рисунке его графическое представление. Окно можно свободно передвигать с помощью функции «перетащить и оставить». Для более динамичной визуализации поведения системы можно использовать анимированные изображения. Также как в листах наблюдения, данные в графических видах обновляются в режиме реального времени без необходимости обновления окна браузера. Эти виды впоследствии могут быть отмечены как «общедоступные», что позволит использовать их еще и на доступных веб-сайтах. </p>
<h1>Управление</h1>
<p>С помощью устанавливаемых точек можно управлять внешними системами. Устанавливаемой точке  может быть задано значение, определенное пользователем, например, значение уставки термостата или состояние реле управления. Как листы наблюдения, так и графические виды, предлагают набор удобных средств для задания значений  устанавливаемых точек. Локатор  устанавливаемй точки отслеживает, как источник данных устанавливает значения во внешнем устройстве.</p>
<h1>События</h1>
<p>Событие – это случай выполнения в системе определенного условия. События бывают как системные, так и пользовательские. Системные события включают: ошибки в работе источника данных, входы пользователя в систему, включение/выключение системы. Пользовательские события включают: детекторы событий точки (смотри выше раздел «Детекторы событий»), запланированные события, составные события, которые задают условия для нескольких точек при помощи логических выражений. Существуют также события аудита, которые возникают, если пользователь производит изменения (добавление, изменение, удаление) точек, влияющих на процесс исполнения, в том числе источников данных, точек данных и обработчиков событий.</p>
<p>
  Как только событие обнаружено, с ним начинает работать обработчик событий. Обработчик событий – это определенная пользователем последовательность действий, которую необходимо выполнить при возникновении конкретного события, например, отправить электронное сообщение или установить значение настраиваемого объекта.</p>

<h1>Пиктограммы приложения </h1>
<ul style="list-style-type:none;">
  <li><img src="images/icon_ds.png"> Источник данных</li>
  <li><img src="images/icon_comp.png"> Точка данных</li>
  <li><img src="images/icon_chart.png"> График</li>
  <li><img src="images/icon_edit.png"> Устанавливаемая точка </li>
  <li><img src="images/eye.png"> Лист наблюдения</li>
  <li><img src="images/icon_view.png"> Графический вид</li>
  <li><img src="images/control_repeat_blue.png"> Обновить</li>
  <li><img src="images/bell.png"> Детектор событий</li>
  <li><img src="images/multi_bell.png"> Составной детектор</li>
  <li><img src="images/clock.png"> Запланированное событие</li>
  <li><img src="images/cog.png"> Обработчик событий</li>
  <li><img src="images/flag_white.png"> Сигнал тревоги</li>
  <li><img src="images/user.png"> Пользователь</li>
  <li><img src="images/comment.png"> Комментарий пользователя</li>
  <li><img src="images/report.png"> Отчет</li>
  <li><img src="images/book.png"> Список рассылки</li>
  <li><img src="images/transmit.png"> Публикатор </li>
  <li><img src="images/warn.png"> Предупреждение</li>
  <li><img src="images/control_stop_blue.png"> Выход из системы</li>
</ul>

<h1>Звуковое сопровождение сигнала тревоги</h1>
<p>При появлении сигнала тревоги в ScadaBR проигрывается звуковой сигнал. По умолчанию, звуковое предупреждение выдается при срочных, критических и угрожающих жизни событиях (т.е. информационные сигналы тревоги звуковым сигналом не сопровождаются), но для каждого типа сигнала тревоги можно индивидуально настроить звуковой сигнал. Чтобы использовать специальные звуковые сигналы, необходимо разместить соответствующие файлы формата mp3 в следующих папках:</p>
<ul>
  <li>&lt;scadabr_home&gt;/audio/information.mp3 (для информации)</li>
  <li>&lt;scadabr_home&gt;/audio/urgent.mp3 (срочно)</li>
  <li>&lt;scadabr_home&gt;/audio/critical.mp3 (критическая ситуация)</li>
  <li>&lt;scadabr_home&gt;/audio/lifesafety.mp3 (угроза жизни) </li>
</ul>
<p>Чтобы отключить звуковой сигнал, удалите связанный файл. Библиотеку звуков можно найти в папке &lt;scadabr_home&gt;/audio/lib.</p>

<h1>Графика</h1>
<p>ScadaBR поставляется с небольшой библиотекой графики, которая расположена в папке &lt;scadabr_home&gt;/graphics. Каждая подпапка представляет набор изображений. Содержание подпапки включает все изображения набора, а также дополнительный файл свойств с именем file.txt. (Примеры можно найти папке графики, поставляемой со ScadaBR). Этот файл свойств содержит соответствующие имена/значения следующих параметров (все являются необязательными параметрами):</p>
<ul>
  <li><b>name</b>: имя, которое будет использоваться для описания набора изображений в пользовательском интерфейсе. По умолчанию присваивается имя папки.</li>
  <li><b>width</b>: ширина изображения. (Все изображения должны быть одинакового размера). По умолчанию устанавливается ширина первого изображения.</li>
  <li><b>height</b>: высота изображения. (Все изображения должны быть одинакового размера). По умолчанию устанавливается высота первого изображения.</li>
  <li><b>text.x</b>: положение текста относительно левой границы изображения в пикселях. По умолчания устанавливается равным 5.</li>
  <li><b>text.y</b>: положение текста относительно верхней границы изображения. По умолчанию устанавливается равным 5. </li>
</ul>
<p>Если вы используете в графических видах набор изображений, не переименовывайте папку, в которой он размещен! Имя папки используется внутри системы для идентификации набора изображений.</p>
<p>Файлы изображений сортируются по имени в алфавитном порядке, с учетом регистра. Пары имени/значения разделяются знаком '='. Строки, начинающиеся со знака '#' считаются комментарием. Файлы 'Thumbs.db' игнорируются. Архивные файлы (zip, gz, tar, etc) не могут использоваться, так как изображения должны быть доступны веб-серверу. Наборы изображений загружаются при запуске системы, поэтому любые изменения вступают в силу только после перезапуска.</p>
<p>Чтобы следующие версии ScadaBR поставлялись с нужным Вам комплектом графики, пожалуйста, передайте ее сообществу. Пожалуйста, подержите открытые программные продукты. </p>

<h1>Перенос графических видов </h1>
<p>Существует возможность просматривать общедоступные графические виды ScadaBR через другие веб-сайты. Для этого нужно просто поместить кадр iframe на Вашу страницу. Например, домашняя страница Mango использует следующий код для отображения небольшого вида для термостата:</p>
<pre>&lt;div style="position:relative;width:80px;height:150px"&gt;
&lt;iframe frameBorder="0" style="position:absolute;width:450px;height:300px" scrolling="no" allowTransparency="true"
        src="http://mango.serotoninsoftware.com/test/public_view.htm?viewId=3"&gt;&lt;/iframe&gt;
&lt;/div&gt;</pre>
<p>Для вывода на экран графиков/таблиц и управляющих элементов без прокрутки или настройки HTML, необходимо использовать абсолютное позиционирование и прозрачность, но это не обязательно. Аргумент 'viewId' (Идентификатор вида) – это внутренне генерируемый идентификатор вида, который нужно отобразить на экране. Его можно заменить аргументом 'viewName' (Имя вида) и значением имени вида. (Не рекомендуется несколько раз менять имя вида без обновления).</p>
<h1>Пользовательские виды</h1>
<p>
  Пользовательские виды - это общедоступные виды, созданные пользователями при помощи библиотеки тэгов *.JSP. Более подробная информация приводится в примере <strong>customViewExample.jsp</strong>.</p>
