<!--
    Mango - Open Source M2M - http://mango.serotoninsoftware.com
    Copyright (C) 2006-2011 Serotonin Software Technologies Inc.
    @author Matthew Lohbihler
    
    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see http://www.gnu.org/licenses/.
 -->
<h1>Обзор</h1>
<p>Источник данных BACnet I/P используется для сбора данных с устройств, совместимых с BACnet I/P и доступных через IP-сеть. Устройства могут быть подключены к локальной сети или к Интранет-сети, а также могут находиться где угодно в сети Интернет. Для получения информации данный источник использует как режим опроса, так и режим подписки на получение COV (Изменение значения).</p>

<h1>Конфигурация</h1>
<p>Каждый источник данных должен иметь произвольно заданное Имя. Значение поля Период обновления задает частоту опроса устройств сети BACnet. Режим опроса применяется только в тех случаях, если нужный объект не поддерживает подписки на получение COV. Устройству автоматически направляется запрос для определения, какой из способов сбора данных будет использоваться.</p>
<p>Идентификатор устройства – это значение идентификатора, которое данное устройство отправляет другому устройству в начальном стартовом сообщении IAm. Начальное стартовое сообщение отправляется автоматически при включении источника данных для подтверждения присутствия устройства в сети, а также отправляется в ответ на соответствующий запрос «Кто есть кто» (WHOIS). </p>
<p>Широковещательный адрес – это IP-адрес для широковещательной рассылки сообщений. Ваш администратор сообщит Вам, какое значение следует установить.</p>
<p>Порт – это номер порта, который прослушивает ScadaBR. Необходимо отметить, что ScadaBR поддерживает ситуации, когда некоторые устройства в сети BACnet имеют возможность прослушивать сообщения с других портов. Но широковещательные сообщения будут рассылаться только через порт, который прослушивает ScadaBR.</p>
<p>  Значения полей Время ожидания, Время ожидания сегмента, Окно сегмента и Повторы являются атрибутами сообщений в сети BACnet. В большинстве случаев подходят значения, заданные по умолчанию. Если в Вашей сети необходимо использовать другие значения этих атрибутов, пожалуйста, обратитесь к администратору сети или проверьте техническую документацию сети BACnet I/P. </p>
<p>Срок аренды COV – это количество минут, в течение которых Mango будет использовать COV. Система автоматически начнет пытаться обновить COV-подписки по прошествии половины заданного времени. Таким образом, если минимальное время составляет 60 минут, Mango отправит в устройство запрос об установлении аренды в течение 60 минут, а через 30 минут повторно запустит подписку.</p>
<p>  Если режим подписки на получение COV не доступен, используется опрос с заданной периодичностью. Каждое устройства опрашивается индивидуально. Если устройство поддерживает сервис чтения групп свойств (ReadPropertyMultiple), ему направляется сообщение-запрос, разбитое на части таким образом, чтобы в одном запросе содержалось не более 200 свойств. В противном случае направляются единичные запросы чтения свойства (ReadProperty).</p>
<h1>Обнаружение устройств сети BACnet I/P </h1>
<p>Обнаружение сети BACnet I/P происходит автоматически при широковещательной рассылке сигнала WhoIs. Устройства сети должны направлять в ответ начальное стартовое сообщение IAm, в котором содержится основная информация об устройстве. Чтобы проверить настройки конфигурации и найти доступные устройства, введите номер Порта для передачи широковещательного сигнала и нажмите кнопку «Отправить WhoIs». (Если нет номера порта, берется значение из конфигурации). В этом случае будет разослан сигнал WhoIs и немедленно начнется прослушивание ответных сигналов IAm (нажатие кнопки «Отмена» остановит прием сообщений). После получения сигнала IAm, информация об устройстве будет отображена в таблице, расположенной под кнопкой. Эта информация будет использоваться для создания объектов.</p>
