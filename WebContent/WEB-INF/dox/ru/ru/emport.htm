<!--
    Mango - Open Source M2M - http://mango.serotoninsoftware.com
    Copyright (C) 2006-2011 Serotonin Software Technologies Inc.
    @author Matthew Lohbihler
    
    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see http://www.gnu.org/licenses/.
 -->

<h1>Обзор</h1>
<p>Эта функция используется для экспорта и импорта различных элементов Вашей конфигурации ScadaBR. Данная функция предлагает Вам несколько возможностей: </p>
<dl>
  <dt><strong>Резервирование и восстановление</strong></dt>
  <dd>Выполните полный экспорт Вашей конфигурации и сохраните сформированный в результате экспорта текст в надежном месте. Если Ваш экземпляр Mango выйдет из строя, вы можете создать новый экземпляр и импортировать Ваш файл конфигурации для быстрого восстановления настроек. </dd>
  <dt><strong>Создание и использование идентичных экземпляров </strong></dt>
  <dd>Выполните экспорт элементов Вашей конфигурации, которые являются общими для всех Ваших экземпляров. Чтобы создать новый идентичный экземпляр, произведите импорт общей части конфигурации и, при необходимости произведите дополнительные настройки. Чтобы произвести изменения во всех Ваших экземплярах, просто измените файл конфигурации и выполните импорт во все экземпляры. Другой вариант – измените один экземпляр, выполните экспорт, а затем импорт во все остальные экземпляры. </dd>
  <dt><strong>Поддержка больших, сложных конфигураций </strong></dt>
  <dd>Несмотря на то, что интерфейс Mango признан как самый привлекательный и легкий в использовании, он не был изначально предназначен для работы с очень большими и сложными конфигурациями. В таких случаях экспортированные файлы могут использоваться как альтернатива для управления Вашей конфигурацией. Вы можете производить изменения непосредственно в файле конфигурации, а затем импортировать его во все экземпляры</dd>
</dl>

<h1>Экспортирование</h1>
<p>Вы можете выполнить экспорт всей конфигурации, отметив флажками все опции в меню Выбора объектов для экспорта. Или, вы можете выбрать только необходимые Вам опции. Результат операции экспорта можно увидеть в Текстовой области данных, из которой вы можете скопировать его и вставить в нужное Вам место, или непосредственно произвести изменения.</p>

<h1>Импортирование</h1>
<p>
Аналогично операции экспорта вы можете выбрать для импорта только небольшую часть Вашей конфигурации. Любая информация, которая исключена из импортируемого файла, останется без изменений. Например, если импортируемый файл не содержит атрибут «Детекторы событий» для конкретного объекта, то список детекторов событий данного объекта не изменится. Однако, если этот атрибут включен в импортируемый файл, то список будет заменен на значение атрибута. </p>
<p>В общем случае, любой объект Mango, имеющий уникальный идентификатор, может быть создан и обновлен, но не удален. Такие объекты имеют Идентификатор экспорта или XID. Этот атрибут специально предназначен для обеспечения уникальной идентификации объектов в различных экземплярах Mango. Идентификаторы экспорта подобны первичным ключам, генерируемыми в базах данных. Но первичные ключи не могут быть сгенерированы таким образом, чтобы подходить к нескольким экземплярам Mango. Если объект, например, источник данных, создается при помощи интерфейса Mango, ему автоматически присваивается уникальный для экземпляра XID. И хотя нет гарантии, что он будет уникальным среди всех Ваших экземпляров Mango, вероятность этого очень высока. Вы можете изменить XID на любое значение длиной до 50 символов по Вашему усмотрению без потери его уникальности в пределах экземпляра. </p>
<p>Ошибка импорта возможна в нескольких случаях: </p>
<ul>
  <li>Если формат Вашего JSON неправильный, процесс импорта будет невозможен. Вам будет выдано сообщение об ошибке с описанием причины и наиболее вероятным местом ошибки в Ваших данных.</li>
  <li>Если какой-либо элемент данных отсутствует или поврежден, возникнет ошибка импорта связанного с ним объекта, но остальные объекты могут быть успешно импортированы. Вам будет выдан список всех объектов, импорт которых был успешно выполнен, а также список сообщений об ошибке с описанием причины отказа.</li>
</ul>

<h1>Формат</h1>
<p>
Функция импорта/экспорта использует формат JSON (более подробную информацию смотрите по адресу <a href="http://www.json.org/" target="_blank">http://www.json.org/</a>) в качестве формата данных для файлов конфигурации. JSON – это очень удобный формат данных, легкий в понимании и использовании. (Пользователям, знакомым с Javascript, формат JSON будет сразу же понятен). Формат JSON был предпочтен более широко принятому формату XML благодаря тому, что он обеспечивает лучшее отображение структуры объектов ScadaBR и, кроме того, является более компактным. </p>
<p>ScadaBR автоматически создаст «хорошие» файлы экспорта в формате JSON, т.е. он сформатирует выводимую информацию с соответствующими разрывами и отступами. Величина отступа может быть установлена с помощью атрибута Уровень отступа.</p>
