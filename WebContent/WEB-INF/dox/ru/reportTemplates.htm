<!--
    Mango - Open Source M2M - http://mango.serotoninsoftware.com
    Copyright (C) 2006-2011 Serotonin Software Technologies Inc.
    @author Matthew Lohbihler
    
    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see http://www.gnu.org/licenses/.
 -->

<h1>Обзор</h1>
<p>Шаблоны отчетов содержат форму для создания экземпляров отчетов. Описание шаблонов и экземпляров отчетов приводится в разделе «Экземпляры отчетов». </p>

<h1>Список шаблонов отчетов</h1>
<p>Чтобы добавить новый шаблон отчета, нажмите пиктограмму <img src="images/report_add.png"/>. Чтобы редактировать существующий шаблон, нажмите на имя шаблона в списке шаблонов отчетов. </p>
<h1>Редактирование параметров шаблона отчета</h1>
<p>
Имя шаблона обычно используется для визуальной идентификации шаблона. Рекомендуется использовать уникальное имя для каждого детектора, но это не обязательно.</p>
<p>
Чтобы выбрать точки, которые необходимо включить в отчет, используйте список точек. Чтобы добавить точку, выберите его в списке и нажмите пиктограмму <img src="images/add.png"/>. Чтобы удалить существующий объект, нажмите пиктограмму <img src="images/bullet_delete.png"/>, связанную с объектом.</p>
<p>Значения Цвета могут быть заданы в виде шестнадцатеричного HTML-кода или имени цвета по спецификации HTML. Например, правильно использовать следующие значения: &quot;#2468AC&quot;, &quot;red&quot;, и &quot;dodgerblue&quot;.</p>
<p>Поле Диапазон данных используется для определения, какие значения следует выбрать в отчете. Диапазон может быть задан в относительном или в абсолютном выражении. В большинстве случаев подходит относительное выражение. Относительные диапазоны данных могут быть основаны на «предыдущих» данных или «прошлых» данных. Диапазон «прошлых» данных равен заданному периоду времени, оканчивающимся в текущий момент. «Предыдущий» диапазон также равен заданному периоду времени, но время его окончания «округляется» таким образом, чтобы соответствовать типу периода. Например, если тип периода – «час (часы)», количество периодов равно 1, а отчет запущен в 18:05, то будет использоваться временной диапазон с 17:00 (включительно) до 18:00 (исключая). Если количество периодов было, например, 3, то временной диапазон будет с 15:00 до 18:00. Аналогично, временной диапазон для типа периода «месяц (месяцы)» будет начинаться в полночь первого дня предыдущего месяца и заканчиваться в последний день предыдущего месяца (если количество периодов равно 1). Точно также с другими типами периода. Неделя начинается в 00:00 понедельника в соответствии со стандартами ISO.</p>
<h1>Планирование отчетов</h1>
<p>
  Отчеты можно запускать автоматически, по предопределенному расписанию. В поле выбора Запускать каждый… задайте периодичность запуска отчета или задайте шаблон крона для более сложного расписания запуска. (Более подробная информация приводится в разделе «Шаблоны крона»). Временные события происходят в начале заданного периода. Неделя начинается в понедельник в соответствии со стандартами ISO. Если данные для отчета должны быть собраны позже начала заданного периода, можно установить параметр Задержка запуска отчета. </p>
<p>Запланированные отчеты отключенных пользователей не выполняются.</p>
<h1>Рассылка отчетов по электронной почте</h1>
<p>
  Несмотря на то, что система не предусматривает возможности совместного использования отчетов для просмотра, созданные экземпляры отчета можно рассылать адресатам из списка рассылки. Содержание электронного сообщения полностью соответствует окну «Таблица отчета», которую можно открыть из панели очереди отчетов. Чтобы включить в электронное сообщение экспортированный CSV-файл, отметьте флажком <strong> Включить табличные данные</strong>.</p>
<p>Выберите Получателей электронного сообщения, которым будет рассылаться отчет. Получатели могут указываться как списком рассылки, так и отдельными пользователями системы или электронными адресами в произвольной форме. Чтобы отправить тестовое электронное сообщение выбранным получателям, нажмите пиктограмму <img src="images/email_go.png"/>. </p>
<p>
  <strong>Важно</strong>: рассылаемые экземпляры отчета автоматически удаляются сразу же после отправки. </p>

<h1>Управление шаблонами</h1>

<p>Чтобы сохранить шаблон отчета, нажмите пиктограмму <img src="images/save.png"/> в верхнем правом углу панели Критерии отчета. Чтобы удалить существующий шаблон, нажмите пиктограмму <img src="images/delete.png"/>. Чтобы немедленно запустить шаблон отчета, нажмите пиктограмму <img src="images/report_go.png"/>. Обратите внимание, что некоторые шаблоны отчетов могут включать большой объем информации, поэтому на его исполнение может потребоваться значительное время. Фактически, все отчеты работают асинхронно по отношению к пользовательскому интерфейсу. После нажатия на пиктограмму экземпляр отчета будет добавлен в очередь отчетов, по которой пользователь может отслеживать их выполнение. Чтобы сделать копию шаблона отчета, нажмите пиктограмму <img src="images/report_add.png"/>.</p>
<p>&nbsp; </p>
