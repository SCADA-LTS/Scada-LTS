<!--
    Mango - Open Source M2M - http://mango.serotoninsoftware.com
    Copyright (C) 2006-2011 Serotonin Software Technologies Inc.
    @author Matthew Lohbihler
    
    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see http://www.gnu.org/licenses/.
 -->

<h1>Обзор</h1>
<p>Источник данных MODBUS Serial используется для сбора данных из локальной сети MODBUS, доступной через последовательные интерфейсы RS232 или RS485 (требуется преобразователь). Этот источник данных работает в режиме опроса (polling).</p>

<h1>Конфигурация</h1>
<p>Каждый источник данных должен иметь произвольно заданное Имя. Значение Периода обновления определяет частоту опросов оборудования MODBUS. Если поставить флажок в окне Отсчет, то запуск источника данных будет происходить с задержкой, равной «округленному» значению времени. (Например, если период опроса равен 10 секундам, то запросы будут отправляться на 10-ой секунде, затем на 20-ой секунде и т.д.). В противном случае опрос будет начинаться без задержки. Значения полей Время ожидания и Повторы определяют поведение системы в случае ошибки опроса. Источник данных ожидает ответа от оборудования в течение заданного времени ожидания (в миллисекундах). Если ответа нет, запрос будет повторяться заданное в поле Повторы количество раз. </p>
<p>Флажок <strong>Только непрерывные пакеты</strong> можно использовать для того, чтобы протокол MODBUS не пытался оптимизировать запросы, содержащие несопоставимые значения, в один запрос. Если проставить флажок в этом окне, программа будет отправлять запросы на группы значений, только если эти значения образуют непрерывную цепочку регистров. </p>
<p>
  The <b>Create slave monitor points</b> checkbox indicates whether slave monitor points should automatically be 
  created by the data source. A slave monitor point is a binary point that indicates the current status of a slave. If a
  polling request to a slave fails due to timeout or error, the slave is considered off line. These points can then be 
  used for control just like other points.
</p>
<p>Флажок<strong> Создать Мониторы подчиненных устройств</strong> задает автоматическое создание источником данных мониторов подчиненных устройств. Монитор подчиненного устройства – это двоичная точка, которая показывает текущее состояние подчиненного устройства. Если опрос устройства не выполнен вследствие окончания времени ожидания или ошибки, подчиненное устройство считается не подключенным к сети. Эти точки могут использоваться для управления так же, как и другие точки.</p>
<p>
  The <b>Max read bit count</b>, <b>Max read register count</b>, and <b>Max write register count</b> count fields 
  control how large batch requests can be. The Modbus specification provides defaults for these values, but some 
  hardware may impose different limits.
</p>
<p>Поля <strong>Максимальное число битов чтения</strong>, <strong>Максимальное число регистров чтения и </strong><strong>Максимальное число регистров</strong> (Max read bit count, Max read register count, Max write register count) записи позволяют задать размер пакетных запросов. В технической характеристике MODBUS указаны предопределенные по умолчанию значения этих параметров, но некоторые виды оборудования могут налагать свои ограничения.</p>
<p>
  Последовательный интерфейс управляется с помощью значений Скорость порта, Управление потоком на входе, Управление потоком на выходе, Биты данных, Стоповые биты и Четность. В сети с интерфейсом RS485 можно использовать настройку Эхо.</p>
<p>Значение Кодировки определяет формат запросов MODBUS. Большинство промышленно выпускаемых устройств использует сообщения в формате RTU. Для того чтобы определится с настройкой этого значения, обратитесь к документации по оборудованию MODBUS.</p>
<p>Значение <strong>Приоритеты по времени </strong>(Concurrency) определяет способ синхронизации запросов MODBUS. Значение параметра Транспорт означает, что любой запрос должен быть завершен, прежде чем начнется следующий. Установка Подчиненное устройство означает, что любой запрос подчиненному устройству должен быть завершен до начала следующего запроса к этому же подчиненному устройству, при этом запросы к разным подчиненным устройствам могут выполняться одновременно. Установка Функция означает, что любой запрос конкретного подчиненного устройства/функции должен быть завершен до начала другого запроса к тому же подчиненному устройству/функции. Значение Функции допускает наибольший уровень совпадений, возможный в MODBUS Serail, но может привести к повреждению данных в некоторых сетях вследствие дуплексной передачи.</p>
<h1>Поиск узлов</h1>
<p>При помощи утилиты сканирования можно находить в сети подчиненные узлы. Эта функция проверяет подчиненные устройства от 1 до 240, направляя каждому ReadExceptionStatus (статус ошибки чтения) (код функции 7). Если ответ получен (с учетом заданных времени ожидания и повторов), узел считается существующим. Обратите внимание, что не все оборудование поддерживает этот код функции, поэтому возможны ложные отрицательные результаты.</p>
