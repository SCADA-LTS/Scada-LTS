<!--
    Scada-LTS - M2M de código abierto - http://mango.serotoninsoftware.com 
    Derechos de autor (C) 2006-2011 Serotonin Software Technologies Inc.
    El autor Matthew Lohbihler    
    Este programa es software libre: puedes redistribuirlo y/o modificarlo. bajo los términos de la Licencia Pública General de GNU,
    publicada por la Fundación de Software Libre, ya sea la versión 3 de la licencia, o (su elección) cualquier versión posterior.
    Este programa se distribuye con la esperanza de que sea útil,  pero SIN NINGUNA GARANTÍA; sin siquiera la garantía implícita de comerciabilidad o idoneidad para un propósito particular.  
    Vea el Licencia Pública General de GNU para más detalles.
    Debería haber recibido una copia de la Licencia Pública General de GNU.Al mismo tiempo que este programa.  Si no, véase http://www.gnu.org/licenses/.
 -->
<h1>Visión general</h1>
<p>
  Los manejadores de eventos proporcionan un comportamiento definido por el usuario que debe ser ejecutado cuando se desencadena un evento particular. Los eventos pueden ser activados debido a varias condiciones del sistema (véase la sección Eventos en la página de ayuda general para más información). Cuando esto sucede, se ejecutan los manejadores de eventos asociados.
</p>
<p>
  Actualmente hay tres tipos de manejadores de eventos:
</p>
<ul>
  <li><b>Gerentes de correo electrónico </b>: envío de mensajes de correo electrónico a las listas de correo</li>
  <li><b>Setpoint managers</b> : permite definir un setpoint con un valor determinado</li>
  <li><b>Gestores de procesos</b>: hacen que el proceso de O/S dado se ejecute</li>
</ul>

<h1>Tipos de eventos</h1>
<p>
  La sección "Tipos de eventos" presenta en forma de árbol todos los tipos de eventos disponibles en el sistema. La rama "Point Event Detectors" contiene una lista de todos los puntos (indicados por <img src="images/icon_comp.png"/>) del sistema que tienen detectores de eventos. Los detectores de eventos están listados bajo sus respectivas ramas puntuales.
</p>
<p>
  Los tipos de eventos para los eventos programados, los detectores de eventos compuestos y los eventos del sistema se enumeran bajo sus respectivas ramas. La rama "Eventos de fuentes de datos" contiene una lista de todas las fuentes de datos que pueden desencadenar eventos. Los acontecimientos se enumeran bajo su respectiva fuente de datos.
</p>
<p>
  Para agregar un nuevo Administrador de eventos, haga clic en el tipo de evento que desea administrar y se mostrará la sección de detalles del Administrador de eventos. El manejador de eventos reales no se registrará hasta que hagas clic en el icono <img src="images/save_add.png"/>. Para editar un controlador existente, haga clic en el nombre del controlador en la lista de controladores bajo la rama del tipo de evento.
</p>
<p>
  Cuando añades un nuevo handler, debes seleccionar el <b>Tipo</b> del handler. Una vez que se ha guardado un controlador, no se puede cambiar su tipo.
</p>

<h1>Alias del evento</h1>
<p>
  Se puede definir un alias de evento arbitrario, a través del cual se identificará visualmente al manejador del evento. Este alias también se utiliza como base de la línea de asunto de los manejadores de eventos de correo electrónico.
</p>

<h1>Modificar los administradores existentes</h1>
<p>
  Para guardar los cambios realizados en un gestor, haz clic en el icono <img src="images/save.png"/> en la esquina superior derecha de la sección Gestor de Eventos. Para eliminar un controlador, haz clic en el icono <img src="images/delete.png"/>.
</p>

<h1>Edición de los manejadores de correo electrónico</h1>
<p>
  Los administradores de correo electrónico mantienen hasta tres listas de correo. La primera es la lista a la que se envía un mensaje cuando el evento se plantea inicialmente. La segunda es una lista opcional a la que se envían las escalas. La tercera es una lista opcional que se envía cuando el evento se vuelve inactivo.
</p>
<p>
  Para añadir una lista de correo a una lista de destinatarios, selecciónela en la lista desplegable <b>Añadir una lista de correo</b> y pulse el icono <img src="images/add.png"/> junto a la lista desplegable. Para añadir un usuario, selecciónelo de la lista <b>Añadir un usuario</b> y haga clic en el icono <img src="images/add.png"/> junto a la lista desplegable. Para añadir una dirección de correo electrónico gratuita, introduzca la dirección en la casilla <b>Añade una dirección</b> y haga clic en el icono <img src="images/add.png"/> junto a la casilla. Para eliminar un destinatario de una lista, haga clic en el icono <img src="images/add.png"/> junto al destinatario. Para probar una lista de destinatarios, haz clic en el icono <img src="images/email_go.png"/> junto a la lista.
</p>
<p>
  Para que se envíen correos electrónicos de escalada, seleccione la casilla de verificación <b>Enviar Escalada</b>, e introduzca el <b>Recipientes de Escalada</b>. El correo electrónico de la escalada sólo se enviará si el evento asociado ha permanecido activo durante el periodo <b>Enviar Escalada si está activo durante el periodo </b>.
</p>
<p>
  Una notificación de evento inactivo puede ser enviada marcando la casilla de verificación <b>Enviar notificación inactiva</b>. Si esta casilla está marcada, la notificación se enviará a todos los destinatarios del Evento una vez que éste haya quedado inactivo. Tenga en cuenta que si no se ha enviado un correo electrónico de escalada, la notificación inactiva no se enviará a la lista de escalada. Sólo los destinatarios que hayan recibido una notificación activa recibirán una notificación inactiva. Este comportamiento puede ser evitado seleccionando la casilla <b>Override inactive recipients</b>, que permite definir una lista específica de receptores inactivos. Esto puede ser útil si hay destinatarios activos de la notificación que no deben recibir más correos electrónicos (como un sistema de tickets).
</p>

<h1>Edición de los gestores de puntos de control</h1>
<p>
  Cuando se plantea un evento, este administrador fijará el valor de un punto de ajuste determinado. El <b>target</b> es el punto de ajuste que se fijará. Opcionalmente, el punto puede fijarse con el valor que desencadenó el evento, pero esto sólo es posible si el evento fue desencadenado por un detector de eventos de punto de "valor modificado" y el tipo de datos del objetivo es el mismo que el de la fuente. Para tener el objetivo definido con el valor de la fuente, seleccione la casilla de verificación <b>Utilizar el valor de la fuente</b>. De lo contrario, introduzca el valor con el que se establece el objetivo en el campo <b>Valor a Establecer.</b>.
</p>

<h1>Gestión de los procesos de edición</h1>
<p>
  Este manejador ejecutará un proceso local, o un comando de shell, posiblemente cuando un evento sea disparado o desactivado. Los comandos respectivos pueden ser cualquier comando de shell apropiado para el anfitrión. Los comandos deben ser especificados como si fueran de una terminal de comandos. Para comandos muy complejos, puede ser conveniente escribir un script de shell y luego llamar al script desde Scada-LTS.
</p>

<p>
  Si por cualquier motivo no se puede iniciar un procedimiento, se activará un evento del sistema, con una descripción del fallo. Además, los procesos se interrumpirán si duran más de 15 segundos. Los resultados estándar no vacíos del proceso se escribirán en el registro ScadaBR a nivel de "información". Las salidas de error no vacías se registrarán en el registro de Mango a un nivel de error.
</p>
